<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="PlanMapper">

	<insert id="planInsert" parameterType="kr.co.mt.travel.plan.PlanDTO">
	INSERT INTO plan ( plan_name, plan_desc, plan_amount, cate_no, money_no, plan_startdate, plan_enddate, plan_loc, plan_allDay )
	VALUES ( #{plan_name}, #{plan_desc}, #{plan_amount}, #{cate_no}, #{money_no}, #{plan_startdate}, #{plan_enddate}, #{plan_loc}, #{plan_allDay} )
	</insert>
	
	<select id="planList" parameterType="java.lang.String" resultType="kr.co.mt.travel.plan.PlanDTO">
	select plan_no, plan_name, plan_desc, plan_amount, plan_loc, money_no, plan_allDay, plan_startdate, plan_enddate
	from plan
	where cate_no = #{cate_no}
	</select>
	
	<select id="selecetMoney" resultType="kr.co.mt.dto.MoneyDTO">
	select money_no, value_name
	from money
	</select>
	
	<update id="planUpdate" parameterType="kr.co.mt.travel.plan.PlanDTO">
	update plan set plan_name = #{plan_name}, plan_desc = #{plan_desc}, plan_amount = #{plan_amount}, plan_startdate = #{plan_startdate},
		   plan_enddate = #{plan_enddate}, plan_loc = #{plan_loc}, money_no = #{money_no}, plan_allDay = #{plan_allDay}
	where plan_no = #{plan_no}
	</update>
	
	<delete id="planDelete" parameterType="java.lang.String">
	delete from plan
	where plan_no = #{plan_no}
	</delete>
	
	<update id="planDateUpdate" parameterType="kr.co.mt.travel.plan.PlanDTO">
	update plan set plan_startdate = #{plan_startdate}, plan_enddate = #{plan_enddate}
	where plan_no = #{plan_no}
	</update>
</mapper>